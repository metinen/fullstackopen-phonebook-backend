(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},19:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(13),o=t.n(u),c=(t(19),t(2)),l=function(e){var n=e.handleFilterChange,t=e.filterBy;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Filter shown with"),r.a.createElement("input",{value:t,onChange:n}))},i=function(e){var n=e.handleNameChange,t=e.handleNumberChange,a=e.handleSubmit,u=e.newName,o=e.newNumber;return r.a.createElement("form",null,r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:u,onChange:n})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:o,onChange:t})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:a},"add")))},m=function(e){var n=e.person,t=e.handleRemoving;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,"".concat(n.name,"  ").concat(n.number)," ",r.a.createElement("button",{onClick:function(){return t(n)}},"Delete")))},f=t(3),d=t.n(f),s="/api/persons",h=function(){return d.a.get(s).then((function(e){return e.data}))},b=function(e){return d.a.post(s,e).then((function(e){return e.data}))},p=function(e){return d.a.put("".concat(s,"/").concat(e.id),e).then((function(e){return e.data}))},v=function(e){return d.a.delete("".concat(s,"/").concat(e)).then((function(e){return e.data}))},E=function(e){var n=e.message,t=e.isError;return null===n?null:r.a.createElement("div",{className:"notification",id:t&&"error"},n)},g=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],u=n[1],o=Object(a.useState)(""),f=Object(c.a)(o,2),d=f[0],s=f[1],g=Object(a.useState)(""),w=Object(c.a)(g,2),j=w[0],C=w[1],O=Object(a.useState)(""),y=Object(c.a)(O,2),N=y[0],k=y[1],S=Object(a.useState)(null),D=Object(c.a)(S,2),F=D[0],T=D[1],A=Object(a.useState)(!1),B=Object(c.a)(A,2),P=B[0],R=B[1];Object(a.useEffect)((function(){h().then((function(e){return u(e)}))}),[]);var x=function(e){window.confirm("Are you sure you want to remove ".concat(e.name))&&(v(e.id),u(t.filter((function(n){return n.id!==e.id}))),T("".concat(e.name," is removed from phonebook")),setTimeout((function(){return T(null)}),5e3))},J=N?t.filter((function(e){return e.name.toUpperCase().includes(N.toUpperCase())})):t;return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(l,{handleFilterChange:function(e){e.preventDefault(),k(e.target.value)},filterBy:N}),r.a.createElement("h2",null,"Add new person"),r.a.createElement(i,{handleNameChange:function(e){e.preventDefault(),s(e.target.value)},handleNumberChange:function(e){e.preventDefault(),C(e.target.value)},newNumber:j,newName:d,handleSubmit:function(e){e.preventDefault();var n=t.find((function(e){return e.name===d}));if(n)n.number!==j?window.confirm("Are you sure you want to replace phone number of ".concat(d,"?"))&&(n.number=j,p(n).then((function(e){var a=t.map((function(t){return t.id!==n.id?t:e}));u(a),T("Phone number of ".concat(n.name," is updated in phonebook")),setTimeout((function(){return T(null)}),5e3)})).catch((function(e){T("Phone number of ".concat(n.name," couldn't be updated")),R(!0),u(t.filter((function(e){return e.id!==n.id}))),setTimeout((function(){T(null),R(!1)}),5e3)}))):window.alert("Record already exists for ".concat(d));else{var a={name:d,number:j};b(a).then((function(e){u(t.concat(e)),T("".concat(a.name," is added to phonebook")),setTimeout((function(){return T(null)}),5e3)})).catch((function(e){T(e.response.data.error),R(!0),setTimeout((function(){T(null),R(!1)}),5e3)}))}s(""),C("")}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(E,{message:F,isError:P}),r.a.createElement("ul",null,J.map((function(e){return r.a.createElement(m,{key:e.name,person:e,handleRemoving:x})}))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.0f8b246a.chunk.js.map